@page "/"
<div class="form-group">
    <label>
        User:
        <input @bind="UserInput" />
    </label>
</div>
<div class="form-group">
    <label>
        Message:
        <input @bind="MessageInput" size="50" />
    </label>
</div>
<button @onclick="Send" disabled="@(!IsConnected)">Send</button>
<button @onclick="Refresh">Refresh</button>

@if (TargetHubClient.IsConnected())
{
    <h3 class="text-success">Connected</h3>
}
else
{
    <h3 class="text-danger">@TargetHubClient.ConnectionStatus()</h3>
}

<p>
    Last Connection: @DisplayDateTime(LastConnection)
</p>
<p>
    Last Connection Attempt: @DisplayDateTime(LastConnectionAttempt)
</p>
<p>
    Last Manual Refresh: @DisplayDateTime(LastRefresh)
</p>
<p>
    Last Message Received: @DisplayDateTime(LastMessageReceived)
</p>

<hr>

<ul id="messagesList">
    @foreach (var message in messages)
    {
        <li>@message</li>
    }
</ul>
